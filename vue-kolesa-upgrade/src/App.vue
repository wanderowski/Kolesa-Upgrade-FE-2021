<template>
  <div id="app">
    <div class="main">
        <div class="main__modal modal" v-if="modalShow">
            <div class="modal__background" @click="closeModal()"></div>
            <div class="container">
                <div class="modal__wrapper">
                    <button class="modal__close" @click="closeModal()">
                    </button>
                        <div class="modal__pics">
                            <div class="modal__pic">
                                <img
                                id="mainPreview"
                                :src="require('./assets/' + openedItem.img)"
                                :alt="openedItem.title"
                                width=330
                                height=330
                                >
                            </div>
                            <div class="modal__hint">
                                <label>
                                    <input type="radio" name="preview" class="modal__radio" id="preview-milk">
                                    <img
                                    src="./assets/üåÜ preview_1.png"
                                    alt="–ë–µ–∂–µ–≤—ã–π —Ü–≤–µ—Ç"
                                    width=50
                                    height=50
                                    onclick="previewClick(event)">
                                </label>
                            </div>
                        </div>
                        <div class="modal__desc">
                            <h1 class="modal__name"></h1>
                            <div class="modal__actions">
                                <div class="modal__info">
                                    <p class="modal__points">
                                        –±–∞–ª–ª–æ–≤
                                    </p>
                                    <button class="btn btn--blue modal__btn">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                                </div>
                                <div class="modal__balance">
                                    <p class="modal__balance-desc">
                                        –¢–≤–æ–π –±–∞–ª–∞–Ω—Å:
                                        <span class="modal__balance-value">3945 –±–∞–ª–ª–æ–≤</span>
                                    </p>
                                    <span class="modal__balance-logo">
                                        üõç
                                    </span>
                                </div>
                            </div>
                            <div class="modal__size">
                                <span class="modal__size-desc">–†–∞–∑–º–µ—Ä—ã:</span>
                                <div class="modal__options">
                                    <label>
                                        <input type="radio" name="size" class="modal__radio" checked>
                                        <div class="modal__radio-container">
                                            <span class="modal__size-name">S</span>
                                        </div>
                                    </label>
                                    <label>
                                        <input type="radio" name="size" class="modal__radio">
                                        <div class="modal__radio-container">
                                            <span class="modal__size-name">M</span>
                                        </div>
                                    </label>
                                    <label>
                                        <input type="radio" name="size" class="modal__radio">
                                        <div class="modal__radio-container">
                                            <span class="modal__size-name">L</span>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div class="modal__details">
                                <span class="modal__headers">–î–µ—Ç–∞–ª–∏:</span>
                                <p class="modal__description">

                                </p>
                            </div>
                            <div class="modal__choose">
                                <span class="modal__headers">–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —Ä–∞–∑–º–µ—Ä:</span>
                                <p class="modal__description">–ù–∞–ø–∏—Å–∞—Ç—å –¥—è–¥–µ –†–∏–∫—É –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è.</p>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="container">
            <div class="main__wrapper">
                <a href="/main_page.html" class="main__logo">
                    <img
                    src="./assets/logo.svg"
                    alt="–õ–æ–≥–æ—Ç–∏–ø"
                    width="215"
                    height="35">
                </a>
                <div class="main__aside">
                    <nav class="nav">
                        <a v-for="(item, index) in navItems" :class="{'nav__item': true, 'nav__item-active': item.active}" :key="index">{{item.title}}</a>
                    </nav>
                </div>
                <header class="header">
                    <div class="header__search search">
                        <button
                            class="search__icon" aria-label="–ü–æ–∏—Å–∫">
                        </button>
                        <input
                            type="search"
                            class="search__field"
                            placeholder="–ü–æ–∏—Å–∫"
                        >
                    </div>
                    <a href="#" class="user">
                        <img
                            src="./assets/avatar.png"
                            alt="–ê–≤–∞—Ç–∞—Ä"
                            width="44"
                            height="44"
                            class="user__avatar">
                        <span class="user__desc">
                            <span class="user__name">
                                –ú–æ—Ä—Ç–∏–¥–∂–∞–Ω
                            </span>
                            <span class="user__points">
                                300 –±–∞–ª–ª–æ–≤
                            </span>
                        </span>
                    </a>
                </header>
                <div class="main__content">
                    <img src="./assets/banner.png" alt="–õ–µ—Ç–Ω—è—è –†–∞—Å–ø—Ä–æ–¥–∞–∂–∞" class="main__banner">
                    <div class="main__points points">
                        <button class="points__box points__get">
                            <img
                            src="./assets/emoji_plus.png"
                            alt="–ü–æ–ª—É—á–∏—Ç—å"
                            class="points__emoji"
                            width="48"
                            >
                            <span class="points__desc">–ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–ª—ã</span>
                        </button>
                        <button class="points__box points__howto">
                            <img
                            src="./assets/emoji_question.png"
                            alt="–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å"
                            class="points__emoji"
                            width="48">

                            <span class="points__desc">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–ª—ã</span>
                        </button>
                        <button class="points__box points__gift">
                            <img
                            src="./assets/emoji_gift.png"
                            alt="–ü–æ–¥–∞—Ä–∏—Ç—å"
                            class="points__emoji"
                            width="48">
                            <span class="points__desc">–ü–æ–¥–∞—Ä–∏—Ç—å –±–∞–ª–ª—ã</span>
                        </button>
                    </div>
                    <div class="main__products products">
                        <div class="products__types">
                            <input data-key="all" type="radio" name="Type" class="products__radio" id="all" checked @click="categorySelect('all')">
                            <label class="products__type" for="all">
                                –í—Å–µ —Ç–æ–≤–∞—Ä—ã
                            </label>
                            <input data-key="clothes" type="radio" name="Type" class="products__radio" id="clothes" @click="categorySelect('clothes')">
                            <label class="products__type" for="clothes">
                                –û–¥–µ–∂–¥–∞
                            </label>
                            <input data-key="accessories" type="radio" name="Type" class="products__radio" id="accessories" @click="categorySelect('accessories')">
                            <label class="products__type" for="accessories">
                                –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã
                            </label>
                        </div>
                        <div class="products__cards">
                            <div class="card" v-for="product in productsToRender" :key="product.id" @click="openModal(product.id)">
                                <img
                                    :src="require('./assets/' + product.img)"
                                    :alt="product.title"
                                    class="card__pic"
                                    width="330"
                                    height="330"
                                >
                                <div class="card__info">
                                    <span class="card__points">
                                        {{ product.price }} –±–∞–ª–ª–æ–≤
                                    </span>
                                    <span class="card__title">
                                        {{ product.title }}
                                    </span>
                                    <span v-if="product.isNew" class="card__new">NEW</span>

                                    <span class="card__sizes">
                                        –†–∞–∑–º–µ—Ä—ã S/M/L
                                    </span>
                                    <button class="btn btn--blue" @click="openModal(product.id)">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="footer__wrapper">
                <div class="footer__social">
                    <span class="footer__copyright">
                        ¬© Kolesa Group
                    </span>
                    <div class="footer__icons">
                        <a href="https://vk.com/kolesakz" target="_blank"><img src="./assets/VK.png" alt="VK" class="footer__icon"></a>
                        <a href="https://www.youtube.com/user/kolesakzvideo" target="_blank"><img src="./assets/YouTube.png" alt="YouTube" class="footer__icon"></a>
                        <a href="https://www.instagram.com/kolesagroup/" target="_blank"><img src="./assets/Instagram.png" alt="Instagram" class="footer__icon"></a>
                    </div>
                </div>
                <div class="footer__contact">
                    <span class="footer__desc">
                        –ï—Å—Ç—å –∏–¥–µ–∏ —á—Ç–æ —É–ª—É—á—à–∏—Ç—å?<br>–ù–µ –∑–Ω–∞–µ—à—å, —Å –∫–µ–º —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É?
                    </span>
                    <button class="btn btn--white">
                        –ù–∞–ø–∏—Å–∞—Ç—å
                    </button>
                </div>
            </div>

        </div>
    </footer>
  </div>
</template>

<script>

export default {
  name: 'App',
  data() {
      return {
          clothes:  [
            {
                id:      0,
                price:   550,
                isNew:   true,
                title:   '–§—É—Ç–±–æ–ª–∫–∞ "–ó–ª–∞—è –ó–∞—è"',
                img:     'shirts/angry.jpg',
                details: '–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞. –ú–∞—Ç–µ—Ä–∏–∞–ª: –•–ª–æ–ø–æ–∫ 80%, –í–∏—Å–∫–æ–∑–∞ 20%',
            },
            {
                id:      1,
                price:   580,
                isNew:   true,
                title:   '–§—É—Ç–±–æ–ª–∫–∞ "–ù–µ —Ö–æ–¥–∏ –∑–∞ –º–Ω–æ–π"',
                img:     'shirts/dont_chase.jpg',
                details: '–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞. –ú–∞—Ç–µ—Ä–∏–∞–ª: –•–ª–æ–ø–æ–∫ 75%, –í–∏—Å–∫–æ–∑–∞ 25%',

            },
            {
                id:      2,
                price:   970,
                isNew:   false,
                title:   '–¢–µ–º–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ "–ù–µ–Ω–∞–≤–∏–∂—É –Ω–∞–¥–ø–∏—Å–∏"',
                img:     'shirts/hate_labels.jpg',
                details: '–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞. –ú–∞—Ç–µ—Ä–∏–∞–ª: –•–ª–æ–ø–æ–∫ 50%, –í–∏—Å–∫–æ–∑–∞ 50%',

            },
            {
                id:      3,
                price:   860,
                isNew:   false,
                title:   '–°–≤–∏—Ç—à–æ—Ç',
                img:     'shirts/dont_chase.jpg',
                details: '–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ–ª—Å—Ç–æ–≤–∫–∞ –æ—Ç Qazaq Republic. –ú–∞—Ç–µ—Ä–∏–∞–ª: –•–ª–æ–ø–æ–∫ 80%, –í–∏—Å–∫–æ–∑–∞ 20%',

            },
            {
                id:      4,
                price:   480,
                isNew:   false,
                title:   '–§—É—Ç–±–æ–ª–∫–∞ "–≠–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–π –∏–ª–∏ —Å–¥–æ—Ö–Ω–∏"',
                img:     'shirts/angry.jpg',
                details: '–§—É—Ç–±–æ–ª–∫–∞ –¥–ª—è —Å–∞–º—ã—Ö —Å–º–µ–ª—ã—Ö. –ú–∞—Ç–µ—Ä–∏–∞–ª: –°–∏–Ω—Ç–µ—Ç–∏–∫–∞ 99%, –•–ª–æ–ø–æ–∫ 1%',

            },
            {
                id:      5,
                price:   310,
                isNew:   false,
                title:   '–•–æ—Ä–æ—à–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞',
                img:     'shirts/hate_labels.jpg',
                details: '–ü—Ä–æ—Å—Ç–æ —Ö–æ—Ä–æ—à–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞!',

            },
        ],
        accessories: [
            {
                id:      6,
                price:   330,
                isNew:   false,
                title:   '–ë—É—Ç—ã–ª–∫–∞ –¥–ª—è –ø–∏—Ç—å—è',
                img:     'accessories/bottle.jpg',
                details: '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –±—É—Ç—ã–ª–∫–∞ –¥–ª—è –≤–æ–¥—ã –∏–∑ –ø–ª–∞—Å—Ç–∏–∫–∞',

            },
            {
                id:      7,
                price:   680,
                isNew:   true,
                title:   '–ù–∞—Ä—É–∫–∞–≤–Ω–∏–∫ –¥–ª—è –±–µ–≥–∞',
                img:     'accessories/hand-cover-green.jpg',
                details: '–ù–∞—Ä—É–∫–∞–≤–Ω–∏–∫ –¥–ª—è —Ä—É–∫ –≤–æ –≤—Ä–µ–º—è –±–µ–≥–∞. –ü–æ–º–æ–≥–∞–µ—Ç –≤ —Ö–æ–ª–æ–¥–Ω—É—é –ø–æ–≥–æ–¥—É',

            },
            {
                id:      8,
                price:   820,
                isNew:   false,
                title:   '–ö—Ä—É–∂–∫–∞ —Å–∏–Ω—è—è',
                img:     'accessories/mug-blue.jpg',
                details: '–ö—Ä—É–∂–∫–∞ –¥–ª—è —á–∞—è. –¶–≤–µ—Ç: –°–∏–Ω–∏–π. –û–±—ä–µ–º: 300–º–ª.',

            },
            {
                id:      9,
                price:   700,
                isNew:   false,
                title:   '–ö—Ä—É–∂–∫–∞ –∑–µ–ª–µ–Ω–∞—è',
                img:     'accessories/mug-green.jpg',
                details: '–ö—Ä—É–∂–∫–∞ –¥–ª—è —á–∞—è. –¶–≤–µ—Ç: –ó–µ–ª–µ–Ω—ã–π. –û–±—ä–µ–º: 400 –º–ª.',

            },
            {
                id:      10,
                price:   530,
                isNew:   false,
                title:   '–ù–∞—Ä—É–∫–∞–≤–Ω–∏–∫ –¥–ª—è –±–µ–≥–∞',
                img:     'accessories/hand-cover-blue.jpg',
                details: '–ó–∏–º–Ω–∏–µ –Ω–∞—Ä—É–∫–∞–≤–Ω–∏–∫–∏ –¥–ª—è —Ä—É–∫ –≤–æ –≤—Ä–µ–º—è –±–µ–≥–∞. –¶–≤–µ—Ç: –°–∏–Ω–∏–π',

            },
            {
                id:      11,
                price:   380,
                isNew:   true,
                title:   '–ë—É—Ç—ã–ª–∫–∞ –¥–ª—è –ø–∏—Ç—å—è',
                img:     'accessories/bottle-blue.webp',
                details: '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –±—É—Ç—ã–ª–∫–∞ –¥–ª—è –≤–æ–¥—ã –∏–∑ –ø–ª–∞—Å—Ç–∏–∫–∞. –¶–≤–µ—Ç: –°–∏–Ω–∏–π',

            },
        ],
        navItems: [
            {title: '–û—Ä–≥—Å—Ö–µ–º–∞', active: false},
            {title: 'Kolesa Team', active: false},
            {title: 'Kolesa Shop', active: true},
            {title: '–ö–∞—Ä—Ç–∏–Ω–∞ –∫–æ–º–ø–∞–Ω–∏–∏', active: false},
            {title: '–ù–æ–≤–æ—Å—Ç–∏', active: false},
            {title: 'Education', active: false},
            {title: 'Guidelines', active: false},
            {title: '–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞', active: false},
            {title: 'FAQ', active: false}
        ],
        modalShow: false,
        categoryToRender: 'all',
        openedItem: {},
    }
  },

  computed: {
      all() {
          const all = this.clothes.concat(this.accessories);
          this.sortEachCategory([all, this.clothes, this.accessories]);
          return all;
      },
      productsToRender() {
          if(this.categoryToRender === 'all') {
              return this.all;
          }
          else if(this.categoryToRender === 'clothes') {
              return this.clothes;
          }
          else if(this.categoryToRender === 'accessories') {
              return this.accessories;
          }
      },
  },
  methods: {
      sortEachCategory(allCategories) {
        allCategories.forEach((category) => {
            category.sort((a, b) => (a.isNew === false && b.isNew === true ? 1 : -1));
        });
      },

      closeModal() {
          this.modalShow = false;
      },
      openModal(id) {
          this.modalShow = true;
          this.openedItem = this.all.filter((item) => item.id === id)[0];
      },
      categorySelect(category) {
          if( category === 'all') {
              this.categoryToRender = 'all'
          }
          else if(category === 'clothes') {
              this.categoryToRender = 'clothes'
          }
          else if(category === 'accessories') {
              this.categoryToRender = 'accessories'
          }
      }

  },
}
</script>

<style src="./scss/styles.scss" lang="scss">

</style>
